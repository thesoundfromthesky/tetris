import{u as b,r as f}from"./index-CfS70t6F.js";import{A as _}from"./objectModelMapping-D4YYZYlG.js";const t="KHR_node_visibility";_("/nodes/{}/extensions/KHR_node_visibility/visible",{get:s=>{const i=s._babylonTransformNode;return i&&i.isVisible!==void 0?i.isVisible:!0},set:(s,i)=>{var e,r;(e=i._primitiveBabylonMeshes)==null||e.forEach(o=>{o.inheritVisibility=!0}),i._babylonTransformNode&&(i._babylonTransformNode.isVisible=s),(r=i._primitiveBabylonMeshes)==null||r.forEach(o=>{o.isVisible=s})},getTarget:s=>s._babylonTransformNode,getPropertyName:[()=>"isVisible"],type:"boolean"});class y{constructor(i){this.name=t,this._loader=i,this.enabled=i.isExtensionUsed(t)}async onReady(){var i;(i=this._loader.gltf.nodes)==null||i.forEach(e=>{var r,o,a,l;(r=e._primitiveBabylonMeshes)==null||r.forEach(n=>{n.inheritVisibility=!0}),(o=e.extensions)!=null&&o.KHR_node_visibility&&((a=e.extensions)==null?void 0:a.KHR_node_visibility.visible)===!1&&(e._babylonTransformNode&&(e._babylonTransformNode.isVisible=!1),(l=e._primitiveBabylonMeshes)==null||l.forEach(n=>{n.isVisible=!1}))})}dispose(){this._loader=null}}b(t);f(t,!0,s=>new y(s));export{y as KHR_node_visibility};
